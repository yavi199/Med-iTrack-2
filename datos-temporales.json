starting build "e7d8ddf8-93ab-48ae-9bb2-d8cea40db57e"
FETCHSOURCE
From https://github.com/yavi199/Med-iTrack-2
 * branch            0c268cf3d2de7a395c1e9dfa5acf6bb86ad6b87f -> FETCH_HEAD
HEAD is now at 0c268cf Fix: Soluciona errores de build para despliegue en Firebase
GitCommit:
0c268cf3d2de7a395c1e9dfa5acf6bb86ad6b87f
BUILD
Starting Step #0 - "ubuntu"
Pulling image: ubuntu
Using default tag: latest
latest: Pulling from library/ubuntu
20043066d3d5: Pulling fs layer
20043066d3d5: Verifying Checksum
20043066d3d5: Download complete
20043066d3d5: Pull complete
Digest: sha256:e96e81f410a9f9cae717e6cdd88cc2a499700ff0bb5061876ad24377fcc517d7
Status: Downloaded newer image for ubuntu:latest
docker.io/library/ubuntu:latest
Finished Step #0 - "ubuntu"
Starting Step #1 - "preparer"
Pulling image: us-central1-docker.pkg.dev/serverless-runtimes/utilities/preparer:base_20251013_18_04_RC00
base_20251013_18_04_RC00: Pulling from serverless-runtimes/utilities/preparer
11a863a28a7b: Pulling fs layer
11a863a28a7b: Verifying Checksum
11a863a28a7b: Download complete
11a863a28a7b: Pull complete
Digest: sha256:1dbd0bb3cc198c3927fe1b6d613e832954309bbc24bf9615a823f74f5ad4ff88
Status: Downloaded newer image for us-central1-docker.pkg.dev/serverless-runtimes/utilities/preparer:base_20251013_18_04_RC00
us-central1-docker.pkg.dev/serverless-runtimes/utilities/preparer:base_20251013_18_04_RC00
2025/11/14 16:14:07 FIREBASE_CONFIG has no availability specified, applying the default of 'BUILD' and 'RUNTIME'
2025/11/14 16:14:07 Final app hosting schema:
env:
- variable: FIREBASE_CONFIG
  value: '{"databaseURL":"","projectId":"med-itrack-hyyat","storageBucket":"med-itrack-hyyat.firebasestorage.app"}'
  availability:
  - BUILD
  - RUNTIME
  source: Firebase System
- variable: FIREBASE_WEBAPP_CONFIG
  value: '{"apiKey":"AIzaSyCY_UIqv9G_UbdtoSPvBlMF7e_mFRO0KR8","appId":"1:106052062599:web:b3887ab61810851341d722","authDomain":"med-itrack-hyyat.firebaseapp.com","databaseURL":"","messagingSenderId":"106052062599","projectId":"med-itrack-hyyat","storageBucket":"med-itrack-hyyat.firebasestorage.app"}'
  availability:
  - BUILD
  source: Firebase System
2025/11/14 16:14:07 Final app hosting schema:
env:
- variable: FIREBASE_CONFIG
  value: '{"databaseURL":"","projectId":"med-itrack-hyyat","storageBucket":"med-itrack-hyyat.firebasestorage.app"}'
  availability:
  - BUILD
  - RUNTIME
  source: Firebase System
- variable: FIREBASE_WEBAPP_CONFIG
  value: '{"apiKey":"AIzaSyCY_UIqv9G_UbdtoSPvBlMF7e_mFRO0KR8","appId":"1:106052062599:web:b3887ab61810851341d722","authDomain":"med-itrack-hyyat.firebaseapp.com","databaseURL":"","messagingSenderId":"106052062599","projectId":"med-itrack-hyyat","storageBucket":"med-itrack-hyyat.firebasestorage.app"}'
  availability:
  - BUILD
  source: Firebase System
Finished Step #1 - "preparer"
Starting Step #2 - "pack"
Pulling image: gcr.io/k8s-skaffold/pack
Using default tag: latest
nodejs_20251109_RC00: Pulling from serverless-runtimes/google-22-full/builder/nodejs
828c1365039a: Already exists
637d3a8ce607: Already exists
981def9c0bac: Already exists
2a6cd3f097a1: Pulling fs layer
8dea029db3dd: Pulling fs layer
47a6f7fef53b: Pulling fs layer
3c75b06a95d3: Pulling fs layer
b17ee862bd5f: Pulling fs layer
61c448f589e1: Pulling fs layer
fe0a88c014e5: Pulling fs layer
1a82443b3661: Pulling fs layer
8d5311fdb4ef: Pulling fs layer
09d88f4e3b55: Pulling fs layer
a136af9f6976: Pulling fs layer
17f148e8e19c: Pulling fs layer
db60bd3c00fd: Pulling fs layer
8696b0a9cc57: Pulling fs layer
c160999a5684: Pulling fs layer
37fe714395ca: Pulling fs layer
ae95114355a1: Pulling fs layer
c5545608283b: Pulling fs layer
1f02e356c100: Pulling fs layer
4490c29092de: Pulling fs layer
93e1801e0569: Pulling fs layer
66b976a1689d: Pulling fs layer
529809bd38af: Pulling fs layer
f856b0583f28: Pulling fs layer
26be9f471823: Pulling fs layer
34ce8ba30961: Pulling fs layer
e6178d2c0976: Pulling fs layer
4f4fb700ef54: Pulling fs layer
db60bd3c00fd: Waiting
8696b0a9cc57: Waiting
c160999a5684: Waiting
37fe714395ca: Waiting
ae95114355a1: Waiting
c5545608283b: Waiting
1f02e356c100: Waiting
4490c29092de: Waiting
93e1801e0569: Waiting
66b976a1689d: Waiting
529809bd38af: Waiting
f856b0583f28: Waiting
26be9f471823: Waiting
34ce8ba30961: Waiting
e6178d2c0976: Waiting
4f4fb700ef54: Waiting
fe0a88c014e5: Waiting
1a82443b3661: Waiting
8d5311fdb4ef: Waiting
09d88f4e3b55: Waiting
a136af9f6976: Waiting
17f148e8e19c: Waiting
47a6f7fef53b: Download complete
8dea029db3dd: Verifying Checksum
8dea029db3dd: Download complete
61c448f589e1: Download complete
a136af9f6976: Verifying Checksum
37fe714395ca: Download complete
4f4fb700ef54: Download complete
b17ee862bd5f: Pull complete
61c448f589e1: Pull complete
fe0a88c014e5: Pull complete
1a82443b3661: Pull complete
8d5311fdb4ef: Pull complete
09d88f4e3b55: Pull complete
a136af9f6976: Pull complete
17f148e8e19c: Pull complete
db60bd3c00fd: Pull complete
8696b0a9cc57: Pull complete
c160999a5684: Pull complete
37fe714395ca: Pull complete
ae95114355a1: Pull complete
c5545608283b: Pull complete
1f02e356c100: Pull complete
4490c29092de: Pull complete
===> ANALYZING
Image with name "us-central1-docker.pkg.dev/med-itrack-hyyat/firebaseapphosting-images/meditrack2github:build-2025-11-14-006" not found
===> DETECTING
target distro name/version labels not found, reading /etc/os-release file
4 of 6 buildpacks participating
google.nodejs.runtime        1.0.0
google.nodejs.firebasenextjs 0.0.1
google.nodejs.npm            1.1.0
google.nodejs.firebasebundle 0.0.1
===> RESTORING
===> BUILDING
target distro name/version labels not found, reading /etc/os-release file
=== Node.js - Runtime (google.nodejs.runtime@1.0.0) ===
2025/11/14 16:14:20 [DEBUG] GET https://dl.google.com/runtimes/ubuntu2204/nodejs/version.json
Adding image label google.runtime-version: nodejs22
2025/11/14 16:14:21 [DEBUG] GET https://dl.google.com/runtimes/ubuntu2204/nodejs/version.json
Installing Node.js v22.21.0.
2025/11/14 16:14:22 [DEBUG] GET https://dl.google.com/runtimes/ubuntu2204/nodejs/nodejs-22.21.0.tar.gz
Installing the heapsize.sh exec.d script.
=== Node.js - Firebasenextjs (google.nodejs.firebasenextjs@0.0.1) ===
***** CACHE MISS: "npm_modules"
Installing nextjs adaptor 14.0.18
=== Node.js - Npm (google.nodejs.npm@1.1.0) ===
***** CACHE MISS: "npm_modules"
Installing application dependencies.
--------------------------------------------------------------------------------
Running "npm ci --quiet --no-fund --no-audit (NODE_ENV=development)"
npm warn deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead
npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
npm warn deprecated rollup-plugin-terser@7.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser
npm warn deprecated workbox-cacheable-response@6.6.0: workbox-background-sync@6.6.0
npm warn deprecated workbox-google-analytics@6.6.0: It is not compatible with newer versions of GA starting with v4, as long as you are using GAv3 it should be ok, but the package is not longer being maintained
npm warn deprecated lodash.isequal@4.5.0: This package is deprecated. Use require('node:util').isDeepStrictEqual instead.
npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
npm warn deprecated fstream@1.0.12: This package is no longer supported.
npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
npm warn deprecated @opentelemetry/exporter-jaeger@1.30.1: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated source-map@0.8.0-beta.0: The work that was done in this beta branch won't be included in future versions
npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
added 1389 packages in 53s
Done "npm ci --quiet --no-fund --no-audit (NODE_ENV=development)" (53.51557399s)
--------------------------------------------------------------------------------
Running "npm exec --prefix /layers/google.nodejs.firebasenextjs/npm_modules apphosting-adapter-nextjs-build"
Overriding Next Config to add configs optmized for Firebase App Hosting
Successfully created next.config.js with Firebase App Hosting overrides
> med-itrack@0.1.0 build
> next build
  â–² Next.js 14.2.3
  - Environments: .env
   Creating an optimized production build ...
> [PWA] Compile server
> [PWA] Compile server
> [PWA] Compile client (static)
> [PWA] Auto register service worker with: /workspace/node_modules/next-pwa/register.js
> [PWA] Service worker: /workspace/public/sw.js
> [PWA]   url: /sw.js
> [PWA]   scope: /
Failed to compile.
./src/lib/consultations-data.ts
Error: 
  x Unexpected token `OFTALMOLOGIA`. Expected ... , *,  (, [, :, , ?, =, an identifier, public, protected, private, readonly, <.
    ,-[/workspace/src/lib/consultations-data.ts:13:1]
 13 |   { cups: '890222', nombre: 'CONSULTA POR NEFROLOGIA', especialidad: 'NEFROLOGIA', shortName: 'NEFR' },
 14 |   { cups: '890223', nombre: 'CONSULTA POR NEUMOLOGIA', especialidad: 'NEUMOLOGIA', shortName: 'NEUMO' },
 15 |   { cups: '890224', nombre: 'CONSULTA POR NEUROCIRUGIA', especialidad: 'NEUROCIRUGIA', shortName: 'NCX' },
 16 |   { cups: '890225', nombre OFTALMOLOGIA', especialidad: 'OFTALMOLOGIA', shortName: 'OFT' },
    :                            ^^^^^^^^^^^^
 17 |   { cups: '890228', nombre: 'CONSULTA POR ORTOPEDIA Y TRAUMATOLOGIA', especialidad: 'ORTOPEDIA Y TRAUMATOLOGIA', shortName: 'ORT' },
 18 |   { cups: '890229', nombre: 'CONSULTA POR OTORRINOLARINGOLOGIA', especialidad: 'OTORRINOLARINGOLOGIA', shortName: 'ORL' },
 19 |   { cups: '890230', nombre: 'CONSULTA POR PEDIATRIA', especialidad: 'PEDIATRIA', shortName: 'PED' },
    `----
Caused by:
    Syntax Error
Import trace for requested module:
./src/lib/consultations-data.ts
./src/app/(dashboard)/consultations/page.tsx
./src/lib/studies-data.ts
Error: 
  x Expected ',', got ':'
    ,-[/workspace/src/lib/studies-data.ts:39:1]
 39 |   { cups: '872301', nombre: 'RADIOGRAFIA DE COLUMNA LUMBOSACRA', modalidad: 'RX' },
 40 |   { cups: '874101', nombre: 'RADIOGRAFIA DE HOMBRO', modalidad: 'RX' },
 41 |   { cups: '874301', nombre: 'RADIOGRAFIA DE CODO', modalidad: 'RX' },
 42 | _rx_mano: '874501', nombre: 'RADIOGRAFIA DE MANO', modalidad: 'RX' },
    :         ^
 43 |   { cups: '875101', nombre: 'RADIOGRAFIA DE PELVIS O CADERA', modalidad: 'RX' },
 44 |   { cups: '875401', nombre: 'RADIOGRAFIA DE RODILLA', modalidad: 'RX' },
 45 |   { cups: '875601', nombre: 'RADIOGRAFIA DE PIE', modalidad: 'RX' },
    `----
Caused by:
    Syntax Error
Import trace for requested module:
./src/lib/studies-data.ts
./src/components/app/study-dialog.tsx
./src/app/(dashboard)/imaging/page.tsx
> Build failed because of webpack errors
Restoring original next config in project root
/layers/google.nodejs.firebasenextjs/npm_modules/node_modules/@apphosting/common/dist/index.js:61
                reject(new Error(`Build process exited with error code ${code}.`));
                       ^
Error: Build process exited with error code 1.
    at ChildProcess.<anonymous> (/layers/google.nodejs.firebasenextjs/npm_modules/node_modules/@apphosting/common/dist/index.js:61:24)
    at ChildProcess.emit (node:events:519:28)
    at ChildProcess._handle.onexit (node:internal/child_process:293:12)
Node.js v22.21.0
Done "npm exec --prefix /layers/google.nodejs.firebasenextjs/npm_m..." (1m30.376931624s)
--------------------------------------------------------------------------------
failed to build: (error ID: b16e3922):
{"reason":"Failed Framework Build","code":"fah/failed-framework-build","userFacingMessage":"Your application failed to run the framework build command 'npm exec --prefix /layers/google.nodejs.firebasenextjs/npm_modules apphosting-adapter-nextjs-build' successfully. Please check the raw log to address the error and confirm that your application builds locally before redeploying.","rawLog":"(error ID: d0a693a9):
Failed to compile.
./src/lib/consultations-data.ts
Error: 
  x Unexpected token `OFTALMOLOGIA`. Expected ... , *,  (, [, :, , ?, =, an identifier, public, protected, private, readonly, <.
    ,-[/workspace/src/lib/consultations-data.ts:13:1]
 13 |   { cups: '890222', nombre: 'CONSULTA POR NEFROLOGIA', especialidad: 'NEFROLOGIA', shortName: 'NEFR' },
 14 |   { cups: '890223', nombre: 'CONSULTA POR NEUMOLOGIA', especialidad: 'NEUMOLOGIA', shortName: 'NEUMO' },
 15 |   { cups: '890224', nombre: 'CONSULTA POR NEUROCIRUGIA', especialidad: 'NEUROCIRUGIA', shortName: 'NCX' },
 16 |   { cups: '890225', nombre OFTALMOLOGIA', especialidad: 'OFTALMOLOGIA', shortName: 'OFT' },
    :                            ^^^^^^^^^^^^
 17 |   { cups: '890228', nombre: 'CONSULTA POR ORTOPEDIA Y TRAUMATOLOGIA', especialidad: 'ORTOPEDIA Y TRAUMATOLOGIA', shortName: 'ORT' },
 18 |   { cups: '890229', nombre: 'CONSULTA POR OTORRINOLARINGOLOGIA', especialidad: 'OTORRINOLARINGOLOGIA', shortName: 'ORL' },
 19 |   { cups: '890230', nombre: 'CONSULTA POR PEDIATRIA', especialidad: 'PEDIATRIA', shortName: 'PED' },
    `----
Caused by:
    Syntax Error
Import trace for requested module:
./src/lib/consultations-data.ts
./src/app/(dashboard)/consultations/page.tsx
./src/lib/studies-data.ts
Error: 
  x Expected ',', got ':'
    ,-[/workspace/src/lib/studies-data.ts:39:1]
 39 |   { cups: '872301', nombre: 'RADIOGRAFIA DE COLUMNA LUMBOSACRA', modalidad: 'RX' },
 40 |   { cups: '874101', nombre: 'RADIOGRAFIA DE HOMBRO', modalidad: 'RX' },
 41 |   { cups: '874301', nombre: 'RADIOGRAFIA DE CODO', modalidad: 'RX' },
 42 | _rx_mano: '874501', nombre: 'RADIOGRAFIA DE MANO', modalidad: 'RX' },
    :         ^
 43 |   { cups: '875101', nombre: 'RADIOGRAFIA DE PELVIS O CADERA', modalidad: 'RX' },
 44 |   { cups: '875401', nombre: 'RADIOGRAFIA DE RODILLA', modalidad: 'RX' },
 45 |   { cups: '875601', nombre: 'RADIOGRAFIA DE PIE', modalidad: 'RX' },
    `----
Caused by:
    Syntax Error
Import trace for requested module:
./src/lib/studies-data.ts
./src/components/app/study-dialog.tsx
./src/app/(dashboard)/imaging/page.tsx
> Build failed because of webpack errors
/layers/google.nodejs.firebasenextjs/npm_modules/node_modules/@apphosting/common/dist/index.js:61
                reject(new Error(`Build process exited with error code ${code}.`));
                       ^
Error: Build process exited with error code 1.
    at ChildProcess.<anonymous> (/layers/google.nodejs.firebasenextjs/npm_modules/node_modules/@apphosting/common/dist/index.js:61:24)
    at ChildProcess.emit (node:events:519:28)
    at ChildProcess._handle.onexit (node:internal/child_process:293:12)
Node.js v22.21.0"}
ERROR: failed to build: exit status 1
ERROR: failed to build: executing lifecycle: failed with status code: 51
Finished Step #2 - "pack"
ERROR
ERROR: build step 2 "gcr.io/k8s-skaffold/pack" failed: step exited with non-zero status: 1
